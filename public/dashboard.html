<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <!-- MutÄƒm butonul aici -->
    <button id="dark-mode-toggle">ðŸŒ™ Dark Mode</button>

    <!-- Restul conÈ›inutului -->
    <div class="container">
        <h1>BINE AI VENIT!</h1>
        <p>Alege o categorie de exerciÈ›ii pentru a Ã®ncepe antrenamentul.</p>

        <h2>Categorii de exerciÈ›ii</h2>
        <div class="category-container">
            <button class="category-btn" onclick="location.href='exercitii/dribling.html'">Dribling</button>
            <button class="category-btn" onclick="location.href='exercitii/aruncari.html'">AruncÄƒri</button>
            <button class="category-btn" onclick="location.href='exercitii/aparare.html'">ApÄƒrare</button>
            <button class="category-btn" onclick="location.href='exercitii/conditie.html'">CondiÈ›ie fizicÄƒ</button>
        </div>

        <h2>Progresul tÄƒu</h2>

        <div class="progress-container">
            <p>Dribling</p>
            <progress id="progress-dribling" value="0" max="100"></progress>
        
            <p>AruncÄƒri</p>
            <progress id="progress-aruncari" value="0" max="100"></progress>
        
            <p>ApÄƒrare</p>
            <progress id="progress-aparare" value="0" max="100"></progress>
        
            <p>CondiÈ›ie fizicÄƒ</p>
            <progress id="progress-conditie" value="0" max="100"></progress>
        </div>
        
        <!-- Script pentru progres -->
        <script src="js/dashboard.js"></script>
        

        <button id="logout-btn" class="category-btn">Log out</button>

    </div>

    <script type="module" src="js/auth.js"></script>

    <script type="module">
        import { calculateTotalProgress } from "../js/exercitii.js";
        import { getAuth, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js";

        const auth = getAuth();

        // AÈ™teaptÄƒ autentificarea utilizatorului
        onAuthStateChanged(auth, async (user) => {
            if (user) {
                console.log("Utilizator autentificat:", user.uid);

                // CalculeazÄƒ progresul total
                const totalProgress = await calculateTotalProgress();

                // ActualizeazÄƒ progresul total Ã®n dashboard
                const progressBar = document.getElementById("total-progress-bar");
                const progressText = document.getElementById("total-progress-text");

                if (progressBar) {
                    progressBar.style.width = `${totalProgress}%`;
                }
                if (progressText) {
                    progressText.textContent = `${totalProgress}%`;
                }
            } else {
                console.error("Niciun utilizator autentificat!");
            }
        });
    </script>
   
</body>
</html>
